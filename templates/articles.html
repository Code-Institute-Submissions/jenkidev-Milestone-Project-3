{% extends "base.html" %}
{% block content %}
    <h2 class="page-heading text-shadow">News</h2>
    <!--Button to add article-->
    {% if session.user|lower == "admin" %}
    <div class="row center">
        <a href="{{ url_for('add_article') }}" class="waves-effect waves-light btn green">Add article<i class="fa-solid fa-square-plus button-icon"></i></a>
    </div>
    {% endif %}

    <!--Card to display article and its contents-->
    {% for article in articles %}
    <div class="row">
        <div class="col s12 m10 offset-m1">
            <div class="card-panel blue darken-4 text-shadow">
                <div class="article-header">
                    <div class="article-header">
                        <i class="fa-solid fa-newspaper left white-text"></i>
                        <span class="white-text card-title">{{ article.heading.title() }}</span>
                    </div>
                </div>
                <div>
                    <div>
                        <span class="white-text article-content">{{ article.content }}</span>
                    </div>
                </div>
                <div>
                    <div class="news-info">
                        <span class="white-text">Author: {{ article.author.capitalize() }}</span>
                        <span class="white-text right">Posted: {{ article.date }}</span>
                    </div>
                </div>
                <div>
                    {% if session.user|lower == "admin" %}
                        <a href="{{ url_for('edit_article', article_id=article._id) }}" class="edit-button waves-effect waves-light btn blue">Edit Article<i class="fa-regular fa-note-sticky button-icon"></i></a>
                    {% endif %}    
                </div>
            </div>
        </div>
      </div>
    {% endfor %}


    
{% endblock %}